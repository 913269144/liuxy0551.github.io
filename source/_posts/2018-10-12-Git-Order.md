---
title: Git 常用命令
urlname: git-order
tags:
  - git
categories:
  - git
author: liuxy0551
copyright: true
date: 2018-10-12 18:12:22
updated: 2019-05-15 15:04:53
---

## 介绍

　　实习阶段代码同步使用的是 SVN ，工作之后一直在使用 Git 搭配 github 进行代码同步工作，用起来也还顺手。我平常是通过 WebStorm 的 Git 插件来提交和同步代码，偶尔会使用到命令，这里记录一些用到的常见命令。
<!--more-->


### 一、 日常使用中的 pull 和 push

　　在日常使用中主要有以下几个指令：

　　1、显示工作目录和暂存区的状态
　　``` javascript
     git status
    ```

　　2、将修改添加到暂存区：
    ``` javascript
     git add -A          提交所有变化
     git add -u          提交被修改(modified)和被删除(deleted)文件，不包括新文件(new)
     git add .           提交新文件(new)和被修改(modified)文件，不包括被删除(deleted)文件
    ```

　　3、将更改记录(提交)到存储库：
    ``` javascript
    git commit -m 'commit message'
    ```

　　4、将远程存储库中的更改合并到当前分支中（master 为远程分支名）：
    ``` javascript
    git pull origin master
    ```

　　5、将本地分支的更新推送到远程分支（master 为远程分支名）：
    ``` javascript
    git push origin master
    ```

>**注意**
>* 可经常使用`git status`命令来查看当前状态



### 二、 git clone 项目到本地

　　1、在目的文件夹路径下，输入以下命令进行初始化：
    ``` javascript
    git init
    ```

　　2、两种 clone 操作

　　（1）输入以下命令，就会进入主分支。其中 git clone 后的内容为你要下载的项目地址：
    ``` javascript
    git clone https://github.com/liuxy0551/ssm-crud
    ```

　　（2）clone 指定分支，就会进入指定分支。输入以下命令：
    ``` javascript
     git clone -b my https://github.com/haobin12358/Weidian
    ```
    
　　格式为：git clone -b 分支名 git地址，其中 my 为分支名


　　3、本地分支和远程分支

   命令|说明
    :--------|:--------
    git branch -a|查看所有分支列表，包括本地和远程
    git branch dev|创建名为 dev 的分支，创建分支时需要是最新的环境，创建分支但依然停留在当前分支
    git checkout dev|切换分支 dev
    git checkout -b dev|本地创建 dev 分支，同时切换到 dev 分支。只有提交的时候才会在服务端上创建一个分支

   `git checkout -b dev`相当于执行了上述命令的`git branch dev`和`git checkout dev`



### 三、 将本地的项目与线上项目关联

　　这一部分主要作用是将本地项目备份到线上，达到多端操作的目的。以 Github 举例：

　　1、新建 repository
　　在 Github 下创建一个新的 repository，取名为 test（与本地欲上传的项目文件夹同名即可）创建的时候不要勾选创建`README.md`，否则后面会有小问题。

　　2、创建本地仓库
　　进入本地文件夹路径，执行以下命令创建本地仓库：
    ``` javascript
     git init
    ```
　　
　　3、修改 .gitignore 文件
　　如果没有请手动创建一个，在里面加入忽略更新的内容，加快push速度，如`.idea`、`node_modules`等。

　　4、提交代码/文件
　　执行以下命令，完成代码/文件在本地的提交：
    ``` javascript
     git add .
     git commit -m 'commit message'
    ```
    
　　5、设置远程仓库
    ``` javascript
    git remote add origin https://github.com/liuxy0551/test.git
    ```
　　如果出现问题：`fatal: remote origin already exists`，提示 origin 已存在，执行`git remote rm origin`删除重复第 5 步即可
　　![](/images/posts/git-order/1.png)

　　6、更新远程仓库
　　如果远程仓库不为空，可执行`git pull --rebase origin master`先将远程仓库合并到本地。远程仓库为空可直接执行以下命令：
    ``` javascript
    git push -u origin master
    ```



### 四、合并 develop 分支到 master 分支

　　项目开发中将自己的代码提交到 develop 分支后，为了发布，需要将 develop 分支的代码合并到 master 分支：

　　1、在 develop 分支提交代码后，切换到 master 分支：
    ``` javascript
    git checkout master
    ```

　　2、merge 代码：
    ``` javascript
    git merge develop
    ```

　　2、提交代码：
    ``` javascript
    git push origin master
    ```



### 五、删除本地分支、删除远程分支

　　项目的远程仓库备份分支重复，需要删除其中一个，每次操作后可执行`git branch -a`查看分支情况：

　　1、查看分支：
    ``` javascript
    git branch -a
    ```

　　2、删除本地分支 dev01：
    ``` javascript
    git branch -d dev01
    ```
　　如果报错：error: The branch 'dev01' is not fully merged，可使用`git branch -D dev01`

　　3、删除远程分支 dev01：
    ``` javascript
    git push origin --delete dev01
    ```
