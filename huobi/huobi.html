<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8" />
      <title>火币计算</title>
      <script type="text/javascript" src="js/jquery-3.1.1.min.js" ></script>
  </head>
  <body>
    <form>
      <div class="box">
        <div style="margin-bottom: 50px">第一类（ 单位：USDT ）</div>
        <div class="row">
          <div class="label">利润：</div>
          <div class="input-box">(
            <input class="input" type="text" placeholder="买入成交量" id="input1"/> -
            <input class="input" type="text" placeholder="手续费" id="input2"/> ) x
            <input class="input" type="text" placeholder="卖出价格" id="input3"/> x 998 ‰ -
            <input class="input" type="text" placeholder="成交总额" id="input4"/> =
            <input class="input1" type="text" placeholder="利润" id="input5"/>
          </div>
          <button class="button" type="button" onClick="button1()">计算利润</button>
        </div>
        <p class="tip" id="tip1">请先完整填写利润的计算元素</p>

        <div class="row">
          <div class="label">卖出价格：</div>
          <div class="input-box">(
            <input class="input" type="text" placeholder="预期利润" id="input6"/> +
            <input class="input" type="text" placeholder="成交总额" id="input7"/> ) ÷ (
            <input class="input" type="text" placeholder="买入成交量" id="input8"/> -
            <input class="input" type="text" placeholder="手续费" id="input9"/> ) ÷ 998 ‰ =
            <input class="input1" type="text" placeholder="卖出价格" id="input10"/>
          </div>
          <button class="button" type="button" onClick="button2()">计算卖出价格</button>
        </div>
        <p class="tip" id="tip2">请先完整填写卖出价格的计算元素</p>
      </div>


      <div class="box">
        <div style="margin: 70px 0 50px;">第二类（ 单位：CNY ）</div>
        <div class="row">
          <div class="label">利润：</div>
          <div class="input-box">( 998 ‰ x
            <input class="input" type="text" placeholder="卖出价格" id="input11"/> -
            <input class="input" type="text" placeholder="买入价格" id="input12"/> ) x
            <input class="input" type="text" placeholder="本金" id="input13"/> x 998 ‰ ÷
            <input class="input" type="text" placeholder="买入价格" id="input14"/> =
            <input class="input1" type="text" placeholder="利润" id="input15"/>
          </div>
          <button class="button" type="button" onClick="button3()">计算利润</button>
        </div>
        <p class="tip" id="tip3">请先完整填写利润的计算元素</p>
        <p class="tip" id="tip4">两次输入的买入价格不同</p>


        <div class="row">
          <div class="label">卖出价格：</div>
          <div class="input-box">(
            <input class="input" type="text" placeholder="预期利润" id="input16"/> x
            <input class="input" type="text" placeholder="买入价格" id="input17"/> ÷ 998 ‰ ÷
            <input class="input" type="text" placeholder="本金" id="input18"/> +
            <input class="input" type="text" placeholder="买入价格" id="input19"/> ) ÷ 998 ‰ =
            <input class="input1" type="text" placeholder="卖出价格" id="input20"/>
          </div>
          <button class="button" type="button" onClick="button4()">计算卖出价格</button>
        </div>
        <p class="tip" id="tip5">请先完整填写卖出价格的计算元素</p>
        <p class="tip" id="tip6">两次输入的买入价格不同</p>
      </div>
    </form>

    <script>
      function button1 () {
        if (!$("#input1").val() || !$("#input2").val() || !$("#input3").val() || !$("#input4").val()) {
          document.getElementById('tip1').style.display = 'flex'
        } else {
          let answer = ( $("#input1").val() - $("#input2").val() ) * $("#input3").val() * 0.998 - $("#input4").val()
          $("#input5").attr("value", answer);

          console.log('( 买入成交量 - 手续费 ) x 卖的价格 x 998‰ - 成交总额 = 利润')
          console.log('( ' + $("#input1").val() + ' - ' + $("#input2").val() + ' ) x ' + $("#input3").val() + ' x 998 ‰  - ' + $("#input4").val() + ' = ' + answer)
          console.log('')
          document.getElementById('tip1').style.display = 'none'
        }
      }

      function button2 () {
        if (!$("#input6").val() || !$("#input7").val() || !$("#input8").val() || !$("#input9").val()) {
          document.getElementById('tip2').style.display = 'flex'
        } else {
          let answer = ( Number($("#input6").val()) + Number($("#input7").val()) ) / ( $("#input8").val() - $("#input9").val() ) / 0.998
          $("#input10").attr("value", answer);

          console.log('( 预期利润 + 成交总额 ) ÷ ( 买入成交量 - 手续费 ) = 卖出价格')
          console.log('( ' + $("#input6").val() + ' + ' + $("#input7").val() + ' ) ÷ ( ' + $("#input8").val() + ' - ' + $("#input9").val() + ' ) ÷ 998 ‰ =' + answer)
          console.log('')
          document.getElementById('tip2').style.display = 'none'
        }
      }

      function button3 () {
        if (!$("#input11").val() || !$("#input12").val() || !$("#input13").val() || !$("#input14").val()) {
          document.getElementById('tip3').style.display = 'flex'
        } else if ($("#input12").val() != $("#input14").val()) {
          document.getElementById('tip3').style.display = 'none'
          document.getElementById('tip4').style.display = 'flex'
        } else {
          let answer = ( 0.998 * $("#input11").val() - $("#input12").val() ) * $("#input13").val() * 0.998 / $("#input14").val()
          $("#input15").attr("value", answer);

          console.log('( 998 ‰ x 卖出价格 - 买入价格 ) x 本金 x 998‰ ÷ 买入价格 = 利润')
          console.log('( 998 ‰ x ' + $("#input11").val() + ' - ' + $("#input12").val() + ' ) x ' + $("#input13").val() + ' x 998 ‰  ÷ ' + $("#input14").val() + ' = ' + answer)
          console.log('')
          document.getElementById('tip3').style.display = 'none'
          document.getElementById('tip4').style.display = 'none'
        }
      }

      function button4 () {
        if (!$("#input16").val() || !$("#input17").val() || !$("#input18").val() || !$("#input19").val()) {
          document.getElementById('tip5').style.display = 'flex'
        } else if ($("#input17").val() != $("#input19").val()) {
          document.getElementById('tip5').style.display = 'none'
          document.getElementById('tip6').style.display = 'flex'
        }  else {
          let answer = (Number(( $("#input16").val() * $("#input17").val() / 0.998 ) / $("#input18").val()) + Number($("#input19").val()) ) / 0.998
          $("#input20").attr("value", answer);

          console.log('( 预期利润 x 买入价格 ÷ 998 ‰ ÷ 本金 + 买入价格 ) ÷ 998 ‰ = 卖出价格')
          console.log('( ' + $("#input16").val() + ' x ' + $("#input17").val() + ' ÷ 998 ‰ ÷ ' + $("#input18").val() + ' + ' + $("#input19").val() + ' ) ÷ 998 ‰  = ' + answer)
          console.log('')
          document.getElementById('tip5').style.display = 'none'
          document.getElementById('tip6').style.display = 'none'
        }
      }
    </script>
  </body>

  <style>
    .box {
      padding: 20px 50px;
    }
    .row {
      display: flex;
      white-space: nowrap;
      margin-bottom: 20px;
    }
    .label {
      float: left;
      width: 100px;
    }
    .input-box {
      float: left;
      width: 770px;
      margin-right: 30px;
    }
    .input {
      width: 80px;
      padding: 3px 5px;
    }
    .input1 {
      width: 120px;
      padding: 3px 5px;
    }
    .button {
      width: 100px;
      height: 25px;
    }
    .tip {
      color: red;
      display: none;
    }
  </style>
</html>
